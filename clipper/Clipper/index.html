<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Clipper (clipper.Clipper)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">clipper</a> &#x00BB; Clipper</nav><header class="odoc-preamble"><h1>Module <code><span>Clipper</span></code></h1><p>Bindings to the <a href="http://www.angusj.com/clipper2/Docs/Overview.htm">Clipper2</a> polygon clipping library</p></header><nav class="odoc-toc"><ul><li><a href="#functor-parameters">Functor Parameters</a><ul><li><a href="#configuration">Configuration</a></li></ul></li><li><a href="#clipper-instance">Clipper Instance</a></li><li><a href="#functors">Functors</a></li></ul></nav><div class="odoc-content"><h2 id="functor-parameters"><a href="#functor-parameters" class="anchor"></a>Functor Parameters</h2><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-VD"><a href="#module-type-VD" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-VD/index.html">VD</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Signature of a 2d decimal (<code>float</code>) vector type to be used to represent points for the construction and destruction of Clipper2 path types</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-V64"><a href="#module-type-V64" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-V64/index.html">V64</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Signature of a 2d <code>int64</code> vector type to be used to represent points for the construction and destruction of Clipper2 path types</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-Poly"><a href="#module-type-Poly" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Poly/index.html">Poly</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Signature of a polygon type -- an outer path and zero or more inner paths (holes). To be used for construction and destruction of Clipper2 paths types.</p></div></div><h3 id="configuration"><a href="#configuration" class="anchor"></a>Configuration</h3><div class="odoc-spec"><div class="spec type anchored" id="type-clip_type"><a href="#type-clip_type" class="anchor"></a><code><span><span class="keyword">type</span> clip_type</span><span> = </span><span>[ </span></code><ol><li id="type-clip_type.None" class="def constructor anchored"><a href="#type-clip_type.None" class="anchor"></a><code><span>| </span></code><code><span>`None</span></code></li><li id="type-clip_type.Intersection" class="def constructor anchored"><a href="#type-clip_type.Intersection" class="anchor"></a><code><span>| </span></code><code><span>`Intersection</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>AND -- regions covered by both subject and clip polygons</p><span class="comment-delim">*)</span></div></li><li id="type-clip_type.Union" class="def constructor anchored"><a href="#type-clip_type.Union" class="anchor"></a><code><span>| </span></code><code><span>`Union</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>OR -- regions covered by subject or clip polygons, or both polygons</p><span class="comment-delim">*)</span></div></li><li id="type-clip_type.Difference" class="def constructor anchored"><a href="#type-clip_type.Difference" class="anchor"></a><code><span>| </span></code><code><span>`Difference</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>NOT -- regions covered by subject, but not clip polygons</p><span class="comment-delim">*)</span></div></li><li id="type-clip_type.Xor" class="def constructor anchored"><a href="#type-clip_type.Xor" class="anchor"></a><code><span>| </span></code><code><span>`Xor</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>exclusive or -- regions covered by subject or clip polygons, but not both</p><span class="comment-delim">*)</span></div></li></ol><code><span> ]</span></code></div><div class="spec-doc"><p>Clipping types for boolean operations. See Clipper2's docs for <a href="http://www.angusj.com/clipper2/Docs/Units/Clipper/Types/ClipType.htm">visual demonstrations</a>.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-fill_rule"><a href="#type-fill_rule" class="anchor"></a><code><span><span class="keyword">type</span> fill_rule</span><span> = </span><span>[ </span></code><ol><li id="type-fill_rule.EvenOdd" class="def constructor anchored"><a href="#type-fill_rule.EvenOdd" class="anchor"></a><code><span>| </span></code><code><span>`EvenOdd</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>only odd numbered sub-regions are filled</p><span class="comment-delim">*)</span></div></li><li id="type-fill_rule.NonZero" class="def constructor anchored"><a href="#type-fill_rule.NonZero" class="anchor"></a><code><span>| </span></code><code><span>`NonZero</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>non-zero sub-regions are filled</p><span class="comment-delim">*)</span></div></li><li id="type-fill_rule.Positive" class="def constructor anchored"><a href="#type-fill_rule.Positive" class="anchor"></a><code><span>| </span></code><code><span>`Positive</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>only sub-regions with winding counts <code>&gt; 0</code> are filled</p><span class="comment-delim">*)</span></div></li><li id="type-fill_rule.Negative" class="def constructor anchored"><a href="#type-fill_rule.Negative" class="anchor"></a><code><span>| </span></code><code><span>`Negative</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>only sub-regions with winding counts <code>&lt; 0</code> are filled</p><span class="comment-delim">*)</span></div></li></ol><code><span> ]</span></code></div><div class="spec-doc"><p>Filling rules used by the clipping algorithm for boolean operations. See Clipper2's docs for a detailed <a href="http://www.angusj.com/clipper2/Docs/Units/Clipper/Types/FillRule.htm">explanation</a> of how they differ).</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-join_type"><a href="#type-join_type" class="anchor"></a><code><span><span class="keyword">type</span> join_type</span><span> = </span><span>[ </span></code><ol><li id="type-join_type.Square" class="def constructor anchored"><a href="#type-join_type.Square" class="anchor"></a><code><span>| </span></code><code><span>`Square</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>squaring applied uniformally at all joins where the <i>internal</i> join angle is less than 90 degrees. The squared edg will be at exactly the offset distance from the join vertex</p><span class="comment-delim">*)</span></div></li><li id="type-join_type.Round" class="def constructor anchored"><a href="#type-join_type.Round" class="anchor"></a><code><span>| </span></code><code><span>`Round</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>rounding is appliedto all joins that have convex external angles, and it maintains the exact offset distance from the join vertex</p><span class="comment-delim">*)</span></div></li><li id="type-join_type.Miter" class="def constructor anchored"><a href="#type-join_type.Miter" class="anchor"></a><code><span>| </span></code><code><span>`Miter <span class="keyword">of</span> <span>float option</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>there's a necessary limit to mitered joins (to avoid narrow angled joins producing excessively long and narrow <a href="http://www.angusj.com/clipper2/Docs/Units/Clipper.Offset/Classes/ClipperOffset/Properties/MiterLimit.htm">spikes</a>)). The optional limit sets the maximum distance in multiples of the <code>delta</code> specified for the offsetting operation (default is <code>2</code>, which is the minimum allowed).</p><span class="comment-delim">*)</span></div></li></ol><code><span> ]</span></code></div><div class="spec-doc"><p>Defines the treatment of corners when offsetting paths. Visual examples are available in the Clipper2 <a href="http://www.angusj.com/clipper2/Docs/Units/Clipper/Types/JoinType.htm">docs</a>.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-end_type"><a href="#type-end_type" class="anchor"></a><code><span><span class="keyword">type</span> end_type</span><span> = </span><span>[ </span></code><ol><li id="type-end_type.Polygon" class="def constructor anchored"><a href="#type-end_type.Polygon" class="anchor"></a><code><span>| </span></code><code><span>`Polygon</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>paths are assumed to be closed and treated as polygons</p><span class="comment-delim">*)</span></div></li><li id="type-end_type.Joined" class="def constructor anchored"><a href="#type-end_type.Joined" class="anchor"></a><code><span>| </span></code><code><span>`Joined</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>ends are joined and the paths are treated as polylines</p><span class="comment-delim">*)</span></div></li><li id="type-end_type.Butt" class="def constructor anchored"><a href="#type-end_type.Butt" class="anchor"></a><code><span>| </span></code><code><span>`Butt</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>ends are squared off without any extrusion</p><span class="comment-delim">*)</span></div></li><li id="type-end_type.Square" class="def constructor anchored"><a href="#type-end_type.Square" class="anchor"></a><code><span>| </span></code><code><span>`Square</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>ends extend the offset amount while being <i>squared off</i></p><span class="comment-delim">*)</span></div></li><li id="type-end_type.Round" class="def constructor anchored"><a href="#type-end_type.Round" class="anchor"></a><code><span>| </span></code><code><span>`Round</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>ends extend the offset amount while being <i>rounded off</i></p><span class="comment-delim">*)</span></div></li></ol><code><span> ]</span></code></div><div class="spec-doc"><p>Sets whether paths are treated as closed (<code>`Polygon</code>) when offsetting or open (and how to do so, if so). Visual examples are available in the Clipper2 <a href="http://www.angusj.com/clipper2/Docs/Units/Clipper/Types/EndType.htm">docs</a>.</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-Config"><a href="#module-type-Config" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Config/index.html">Config</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Configuration parameters allowing user control Clipper2 interface defaults</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-config"><a href="#val-config" class="anchor"></a><code><span><span class="keyword">val</span> config : 
  <span>?fill_rule:<a href="#type-fill_rule">fill_rule</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?join_type:<a href="#type-join_type">join_type</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?end_type:<a href="#type-end_type">end_type</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?precision:int <span class="arrow">&#45;&gt;</span></span>
  <span>?eps:float <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span>(<span class="keyword">module</span> <a href="module-type-Config/index.html">Config</a>)</span></span></code></div><div class="spec-doc"><p><code>config ?fill_rule ?join_type ?end_type ?precision ?eps ()</code></p><p>Construct a <a href="module-type-Config/index.html"><code>Config</code></a> functor argument to set defaults appropriate to your use case.</p><ul><li><code>fill_rule</code> sets the default filling rule used by the clipping algorithm used for boolean operations (default is <code>`NonZero</code>, as used by <a href="https://openscad.org/">OpenSCAD</a>).</li><li><code>join_type</code> defines the treatment of corners when offsetting paths (default is <code>`Round</code>).</li><li><code>end_type</code> sets whether paths are treated as closed (polygons) when offsetting (as with the default <code>`Polygon</code>) or open (and how to do so, if so).</li><li><code>precision</code> sets the number of decimals of precision used for operations that are performed with <code>int64</code> internally in Clipper2 (default is <code>2</code>). This is only relevant if using the decimal interface.</li><li><code>eps</code> sets the default epsilon value used for the functions that take it as argument. If not provided, this defaults to the smallest relevant significant figure as determined by <code>precision</code> in the case of the decimal interface (<i>e.g.</i> <code>0.01</code> when <code>precision = 2</code>), or simply <code>1</code> for the <code>int64</code> interface.</li></ul></div></div><h2 id="clipper-instance"><a href="#clipper-instance" class="anchor"></a>Clipper Instance</h2><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-S"><a href="#module-type-S" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-S/index.html">S</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The signature of Clipper2 binding modules produced by the provided <code>Make</code> functors</p></div></div><h2 id="functors"><a href="#functors" class="anchor"></a>Functors</h2><div class="odoc-spec"><div class="spec module anchored" id="module-MakeD'"><a href="#module-MakeD'" class="anchor"></a><code><span><span class="keyword">module</span> <a href="MakeD'/index.html">MakeD'</a></span><span>
  (<a href="MakeD'/argument-1-V/index.html">V</a> : <a href="module-type-VD/index.html">VD</a>)
  (<a href="MakeD'/argument-2-P/index.html">P</a> : <a href="module-type-Poly/index.html">Poly</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="module-type-Poly/index.html#type-v">v</a> := <a href="MakeD'/argument-1-V/index.html#type-t">V.t</a></span>)
  (<a href="MakeD'/argument-3-_/index.html">_</a> : <a href="module-type-Config/index.html">Config</a>) : 
  <a href="module-type-S/index.html">S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="module-type-S/index.html#type-v">v</a> := <a href="MakeD'/argument-1-V/index.html#type-t">V.t</a></span> <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="module-type-S/index.html#type-poly">poly</a> := <a href="MakeD'/argument-2-P/index.html#type-t">P.t</a></span></span></code></div><div class="spec-doc"><p><code>MakeD' (V) (P) (C)</code> creates a Clipper2 module with the 2d <code>float</code> vector <code>V</code>, the polygon type <code>P</code> (composed of <code>V.t</code>s, used for input/output), and a user configuration (see <a href="#val-config"><code>config</code></a> for convenience constructor).</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-MakeD"><a href="#module-MakeD" class="anchor"></a><code><span><span class="keyword">module</span> <a href="MakeD/index.html">MakeD</a></span><span> (<a href="MakeD/argument-1-V/index.html">V</a> : <a href="module-type-VD/index.html">VD</a>) : <a href="module-type-S/index.html">S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="module-type-S/index.html#type-v">v</a> := <a href="MakeD/argument-1-V/index.html#type-t">V.t</a></span> <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="module-type-S/index.html#type-poly">poly</a> := <span><span><a href="MakeD/argument-1-V/index.html#type-t">V.t</a> list</span> list</span></span></span></code></div><div class="spec-doc"><p><code>MakeD (V) (C)</code> creates a Clipper2 module with the 2d <code>float</code> vector <code>V</code>, and a user configuration (see <a href="#val-config"><code>config</code></a> for convenience constructor). Same as <a href="MakeD'/index.html"><code>MakeD'</code></a>, but the polygon type is preset to <code>V.t list list</code>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Make64'"><a href="#module-Make64'" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Make64'/index.html">Make64'</a></span><span>
  (<a href="Make64'/argument-1-V/index.html">V</a> : <a href="module-type-V64/index.html">V64</a>)
  (<a href="Make64'/argument-2-P/index.html">P</a> : <a href="module-type-Poly/index.html">Poly</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="module-type-Poly/index.html#type-v">v</a> := <a href="Make64'/argument-1-V/index.html#type-t">V.t</a></span>)
  (<a href="Make64'/argument-3-_/index.html">_</a> : <a href="module-type-Config/index.html">Config</a>) : 
  <a href="module-type-S/index.html">S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="module-type-S/index.html#type-v">v</a> := <a href="Make64'/argument-1-V/index.html#type-t">V.t</a></span> <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="module-type-S/index.html#type-poly">poly</a> := <a href="Make64'/argument-2-P/index.html#type-t">P.t</a></span></span></code></div><div class="spec-doc"><p><code>MakeD' (V) (P) (C)</code> creates a Clipper2 module with the 2d <code>int64</code> vector <code>V</code>, the polygon type <code>P</code> (composed of <code>V.t</code>s, used for input/output), and a user configuration (see <a href="#val-config"><code>config</code></a> for convenience constructor).</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Make64"><a href="#module-Make64" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Make64/index.html">Make64</a></span><span> (<a href="Make64/argument-1-V/index.html">V</a> : <a href="module-type-V64/index.html">V64</a>) : <a href="module-type-S/index.html">S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="module-type-S/index.html#type-v">v</a> := <a href="Make64/argument-1-V/index.html#type-t">V.t</a></span> <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="module-type-S/index.html#type-poly">poly</a> := <span><span><a href="Make64/argument-1-V/index.html#type-t">V.t</a> list</span> list</span></span></span></code></div><div class="spec-doc"><p><code>MakeD (V) (C)</code> creates a Clipper2 module with the 2d <code>int64</code> vector <code>V</code>, and a user configuration (see <a href="#val-config"><code>config</code></a> for convenience constructor). Same as <a href="MakeD'/index.html"><code>MakeD'</code></a>, but the polygon type is preset to <code>V.t list list</code>.</p></div></div></div></body></html>